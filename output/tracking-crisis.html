<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="stylesheet" type="text/css" href="/theme/css/style.css">
	<!--<link rel="stylesheet/less" type="text/css" href="/theme/css/style.less">-->
	<!--<script src="/theme/js/less.js" type="text/javascript"></script>-->
	<link rel="stylesheet" type="text/css" href="/theme/css/pygments.css">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:800,400,300|Inconsolata' rel='stylesheet' type='text/css'>

	<link href="/" type="application/atom+xml" rel="alternate" title="Jakub Langr's Blog ATOM Feed" />
	
			<title>Jakub Langr's Blog</title>
		<meta charset="utf-8" />
	</head>
<body>
	<section id="sidebar">
		<figure id="user_logo">
			<a href="/"><div class="logo">&nbsp;</div></a>
		</figure>

		<div class="user_meta">
			<h1 id="user"><a href="/" class="">Jakub Langr</a></h1>
			<h2></h2>
			<ul>
																										<li><a href="http://linkedin.com/in/jakublangr">LinkedIn</a></li>
									<li><a href="https://github.com/jakubLangr">GitHub</a></li>
									<li><a href="mailto:james.langr@gmail.com">Mail</a></li>
									<li><a href="/about.html">About</a></li>
							</ul>
		</div>
		<footer>
			<address>
				Powered by <a href="http://pelican.notmyidea.org/">Pelican</a>,
				theme by <a href="https://github.com/wting/pelican-svbtle">wting</a>.
			</address>
		</footer>
	</section>

	<section id="posts">
			<header>
		<h1>Jakub Langr's blog</h1>
		<h3>Posted 22/09/2014</h3>
	</header>
	<article>
		<h1 id="title">
			<a href="./tracking-crisis.html" rel="bookmark"
				title="Permalink to Tracking the CrISIS in Syria">Tracking the CrISIS in Syria</a>
		</h1>
		<p>As I was working as a contractor this summer, I came across a very interesting project called <a href="http://www.gdeltproject.org/">GDELT</a> -- Global Database of Events, Language and Tone. This project I think is best described by the official website statement: "GDELT Project monitors the world's broadcast, print, and web news from nearly every corner of every country in over 100 languages and identifies the people, locations, organizations, counts, themes, sources, and events driving our global society every second of every day, creating a free open platform for computing on the entire world."</p>
<p>In addition to that, as a part of <a href="../hello-world.html">Good Judgement Project</a>, I was made to forecast on Syria and ISIS' actions. As I was going through the articles describing what is happening in Syria I became to wonder: what is the bigger picture? To what extent is this hype all just, because <strong>now</strong> ISIS is the headline-grabber in the West? (But of course, no one cares until it becomes a story in the public consciousness.) That's when GDELT into the picture. I wanted to try it as I came across it, but since I was finishing my data science project, I did not quite have the time. I was awe-struck by the complexity and potential of this project so I knew I wanted to give a go. But since my first internship in Pearson in 2013, I am not afraid of large analytics, especially if I can use R to do it.</p>
<p>Fortunately, Google was so nice as to host this almost 100 GB dataset on <a href="http://googlecloudplatform.blogspot.cz/2014/05/worlds-largest-event-dataset-now-publicly-available-in-google-bigquery.html">its cloud for free</a>, for which I love Google. Not only that, but Google loaded their dataset so that it can be queried using <a href="http://en.wikipedia.org/wiki/BigQuertracky">BigQuery</a> using public-facing APIs or a web interface. We can then query GDELT using SQL like as shown below and subsequently export the dataset as a CSV:</p>
<div class="codehilite"><pre><span class="n">SELECT</span> <span class="o">*</span> <span class="n">FROM</span> <span class="p">[</span><span class="n">gdelt</span><span class="o">-</span><span class="n">bq</span><span class="o">:</span><span class="n">full</span><span class="p">.</span><span class="n">events</span><span class="p">]</span> <span class="n">WHERE</span> <span class="p">(</span> 
<span class="p">(</span><span class="n">MonthYear</span><span class="o">&gt;=</span><span class="mi">201303</span> <span class="o">&amp;&amp;</span> <span class="n">Year</span><span class="o">&lt;=</span><span class="mi">2015</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">NumSources</span><span class="o">&gt;=</span><span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="n">GoldsteinScale</span><span class="o">&lt;</span><span class="mf">0.0</span> <span class="n">AND</span>
<span class="p">((</span><span class="n">Actor1Geo_CountryCode</span><span class="o">==</span><span class="s">&quot;SY&quot;</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">Actor1Code</span><span class="o">==</span><span class="s">&quot;IMG&quot;</span> <span class="o">||</span> <span class="n">Actor1Code</span><span class="o">==</span><span class="s">&quot;REB&quot;</span><span class="p">))</span>
<span class="o">||</span> <span class="p">(</span><span class="n">Actor2Geo_CountryCode</span><span class="o">==</span><span class="s">&quot;SY&quot;</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">Actor2Code</span><span class="o">==</span><span class="s">&quot;IMG&quot;</span> <span class="o">||</span> <span class="n">Actor2Code</span><span class="o">==</span><span class="s">&quot;REB&quot;</span><span class="p">))</span> <span class="p">)</span>
<span class="p">)</span> <span class="n">ORDER</span> <span class="n">BY</span> <span class="n">Year</span><span class="p">;</span>
</pre></div>


<p>(For those interested, I include a smaller version of the dataset I was working with after exporting from GDELT <a href="https://dl.dropboxusercontent.com/u/30848031/blog/sample.csv">here</a>.)</p>
<p>The assumption of this endeavor is that if I include non-English media (and perhaps the less main-stream ones too) by using GDELT's information rather than Google, which will always give me traditional sources, I can get a better sense of what is going on and by the law of large numbers, I will not get too many false positives from spurious sources, so my overall analysis should remain robust and even more objective than relying on sources such as CNN or BBC alone. One additional advantage GDELT has is that it is updated every 24 hours. In theory, this analysis could be automated so that it updates itself every 24 hours. (Actually, it should not be <em>that</em> much more work ... but given the size of GDELT, I would have to start paying for using the BigQuery service that often.)</p>
<p>As with any more substantive project, there was a lot of data cleaning and obstacles. Namely: </p>
<ol>
<li>ISIS not recognized by GDELT
There's lots of International Militarized Groups (IMGs) recognized by GDELT, but ISIS seems to be too new in the headlines to be recognized by GDELT coding yet. Hence I had to look for substitutes:</li>
<li>IMG (International Militarized Group) tag to the rescue
There is a column specifying actor <em>type</em> for each event. There is an actor type IMG, which was fortunate. However, there is no way of fully knowing (at least with this level of granularity, but I am sure it would be technically possible, if GDELT team so chose.)</li>
<li>But sometimes "REB"
When individually inspecting the events (just some of them, I do not have the time to go through the entire data dump) </li>
<li>Cleaning the data
For some events it is hard, if not impossible to correctly specify precise coordinates. As a result, GDELT merely inputs the values of the approximate center of Syria. These records obviously needed to be removed from the dataset. Obviously, there was couple of more steps that I needed to do and a couple that tricked me for a little bit when I found that the state code of one of the events was <em>IS</em>, which, however, stood for Israel, as I later found out.  </li>
</ol>
<p>The GDELT project classifies each event using <a href="http://gdeltproject.org/data/lookups/CAMEO.eventcodes.txt">one of their internal codes</a>, each of these codes then gets then a <a href="http://web.pdx.edu/~kinsella/jgscale.html">Goldstein score</a>, which basically expresses whether this event whether people are being nice to each other (positive score) or mean/evil towards each other (negative score). Where +10.0 is some massive humanitarian/developmental aid project, +1.0 is probably visit of some minor national politican. All the positive things were filtered out, because I wanted to focus on what the problems were. There -1.1 is, for instance, "Deny an attributed policy, action, role or position" and -10.0 is "Military attack; clash; assault".</p>
<p>As the more SQL-knowledgeable of you might have noticed, I only considered events that came from 2 independent sources and happened on or after March 2013. </p>
<h1>Let's explore</h1>
<p>With this dataset in hand, I made several maps where I plotted each event as a point sized according to its Goldstein score and set relatively low transparency so that all hotspots appear in bright red. I plotted this dataset by month, and here's March 2013 till July 2013. We see that at the end of this period, there's was violence spearing from its initial hotspots. </p>
<h3>March and April 2013</h3>
<table><tr>
<td><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201303.png" alt="Map of Syria" align="left" style="width: 310px;"/></td>
<td><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201304.png" alt="Map of Syria" align="right" style="width: 310px;"/></td>
</tr></table>

<h3>May and July 2013</h3>
<table><tr>
<td><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201305.png" alt="Map of Syria" align="left" style="width: 310px;"/></td>
<td><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201306.png" alt="Map of Syria" align="right" style="width: 310px;"/></td>
</tr></table>

<p>Now, if we look at the period August till November, we see that there's a lot more violence then. But to some extent we have to bear in mind that this dataset includes <em>all</em> rebels and not just ISIS. </p>
<h3>August 2013</h3>
<p><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201308.png" alt="Map of Syria" align="center" style="width: 620px;"/></p>
<h3>September 2013</h3>
<p><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201309.png" alt="Map of Syria" align="center" style="width: 620px;"/></p>
<h3>October 2013</h3>
<p><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201310.png" alt="Map of Syria" align="center" style="width: 620px;"/></p>
<h3>November 2013</h3>
<p><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201311.png" alt="Map of Syria" align="center" style="width: 620px;"/></p>
<p>Moreover, we have to consider the connected events: </p>
<script type="text/javascript" src="//www.google.com/trends/embed.js?hl=en-US&q=Syria,+Chemical+Weapons&date=1/2013+12m&cmpt=q&content=1&cid=TIMESERIES_GRAPH_0&export=5&w=500&h=330"></script>

<p>Here, I am using Google Trends as a proxy for "Western interest" in the matter.</p>
<p>Clearly, August and September are easily explained by the usage of chemical weapons. But the violence following this, especially in October and later, cannot be explained just by looking at chemical weapons, because that is when the hype ended and has not picked up until ISIS was the next important thing.</p>
<p>The following months were similarly violent and few in the West seemed to care. </p>
<h3>December 2013 and January 2014</h3>
<table><tr>
<td><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201312.png" alt="Map of Syria" align="left" style="width: 310px;"/></td>
<td><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201401.png" alt="Map of Syria" align="right" style="width: 310px;"/></td>
</tr></table>

<h3>February and March 2014</h3>
<table><tr>
<td><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201402.png" alt="Map of Syria" align="left" style="width: 310px;"/></td>
<td><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201403.png" alt="Map of Syria" align="right" style="width: 310px;"/></td>
</tr></table>

<h3>April and May 2014</h3>
<table><tr>
<td><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201404.png" alt="Map of Syria" align="left" style="width: 310px;"/></td>
<td><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201405.png" alt="Map of Syria" align="right" style="width: 310px;"/></td>
</tr></table>

<p>If we plot the Google trend graph again, since the start of Syrian Civil War in March 2011, we see that the attention Syria got around the times of the use of chemical weapons is unparalleled. This is hardly surprising, but what is odd is that there a very typical <a href="http://www.cbsnews.com/news/syria-chemical-weapons-attack-blamed-on-assad-but-wheres-the-evidence/">disagreement regarding who actually used them</a>, though I think that at least some of these attacks were sure to be made by the government. </p>
<script type="text/javascript" src="//www.google.com/trends/embed.js?hl=en-US&cat=0-16-396&q=Syria&date=1/2009+43m&cmpt=q&content=1&cid=TIMESERIES_GRAPH_1&export=5&w=500&h=330"></script>

<p>But despite the limited interested by the West, violence was actually similar to the months during which the chemical weapons were used. </p>
<p>What is interesting that ISIS was not picked up by Western media much until recent months, despite the fact that ISIS can be traced back to 2004: </p>
<script type="text/javascript" src="//www.google.com/trends/embed.js?hl=en-US&cat=0-16-396&q=%22Islamic+State%22,+ISIS,+ISIL&date=today+12-m&cmpt=q&content=1&cid=TIMESERIES_GRAPH_0&export=5&w=500&h=330"></script>

<p>Still, violence was hovering around the same level:</p>
<h3>June and July 2014</h3>
<table><tr>
<td><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201406.png" alt="Map of Syria" align="left" style="width: 310px;"/></td>
<td><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201407.png" alt="Map of Syria" align="right" style="width: 310px;"/></td>
</tr></table>

<h3>August and September 2014</h3>
<table><tr>
<td><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201408.png" alt="Map of Syria" align="left" style="width: 310px;"/></td>
<td><img src="https://dl.dropboxusercontent.com/u/30848031/blog/201409.png" alt="Map of Syria" align="right" style="width: 310px;"/></td>
</tr></table>

<p>What is interesting is that it seems that despite the tons of graphical content that ISIS uploads, its terror tactics are largely successful: Syria does not seem, by and large, more violent than it was in the few months prior to ISIS' inclusion in the Western media's limelight. If anything, it seems that the number of violent occurrences has decreased. But it seems that the terror-tactics and the headline-grabbing strategy of ISIS is already working well for them. West pays attention.</p>
<p>I am currently working on an interactive R-Shiny app for this visualization/analysis so stay tuned!</p>
<p>Want the R script? Want to give feedback? Comments? Question? I am happy to hear it! Contact me at james [dot] langr [at] gmail [dot] com.</p>

		<div id="article_meta">
							Category:
					<a href="./category/hacking.html">Hacking</a>
										<br />Tags:
									<a href="./tag/modeling.html">modeling</a>
									<a href="./tag/gdelt.html">GDELT</a>
									<a href="./tag/interactive.html">interactive</a>
									<a href="./tag/syria.html">Syria</a>
									</div>
	</article>

	<footer>
		<a href="./" class="button_accent">&larr;&nbsp;&nbsp;&nbsp;Back to blog</a>
	</footer>

		<div id="comments">
		<h2>Comments</h2>
		<div id="disqus_thread"></div>
		<script type="text/javascript">
			var disqus_identifier = "tracking-crisis.html";
			(function() {
				var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				dsq.src = 'http://jakublangr.disqus.com/embed.js';
				(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			})();
		</script>
		<noscript>Please enable JavaScript to view <a href="http://disqus.com/?ref_noscript">comments</a>.</noscript>
	</div>
	
	</section>

	<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script type="text/javascript">
		try {
			var pageTracker = _gat._getTracker("UA-55040887-1");
			pageTracker._trackPageview();
		} catch(err) {}</script>
</body>
</html>